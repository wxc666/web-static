<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="author" content="joney"/>
    <title>后台管理系统</title>
    <link rel="stylesheet" type="text/css" href="http://localhost/easyui/themes/black/easyui.css" id="swicth-style"/>
    <link rel="stylesheet" type="text/css" href="http://localhost/easyui/themes/icon.css"/>
    <link rel="stylesheet" type="text/css" href="http://localhost/css/font-awesome.min.css"/>
    <script type="text/javascript" src="http://localhost/js/jquery-1.8.0.min.js"></script>
    <script type="text/javascript" src="http://localhost/easyui/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="http://localhost/easyui/locale/easyui-lang-zh_CN.js"></script>
    <script type="text/javascript" src="http://localhost/js/common.js"></script>
    <script type="text/javascript" src="http://localhost/js/easyui-validate.js"></script>
</head>
<body>


    <table id="listTb" class="easyui-datagrid" title="角色列表" style="width:100%;height:500px"
           data-options="rownumbers:true,singleSelect:true,pagination:true,url:'data.json',method:'get',toolbar:'#searchBar'">
        <thead>
        <tr>
            <th data-options="field:'id',width:70,align:'center'">ID</th>
            <th data-options="field:'name',width:200">名称</th>
            <th data-options="field:'description',width:300">描述</th>
            <th data-options="field:'state',width:60,align:'center'" formatter="formatState">状态</th>
            <th data-options="field:'createTime',width:140,align:'center'" formatter="formatTime">创建时间</th>
            <th data-options="field:'createUser',width:70,align:'center'">创建人ID</th>
            <th data-options="field:'updateTime',width:140,align:'center'" formatter="formatTime">更新时间</th>
            <th data-options="field:'updateUser',width:70,align:'center'">更新人ID</th>
            <th data-options="field:'opt',width:80,align:'center'" formatter="formatOpt">绑定操作</th>
        </tr>
        </thead>
    </table>





<div id="addDlg" class="easyui-dialog" title="新增" style="width:50%;height:100%;"
     data-options="modal:true,closed:true,
                cache: false,
                iconCls: 'icon-save',
                buttons: [{
                    text:'保存',
                    iconCls:'icon-ok',
                    handler:function(){
                        saveForm();
                    }
                },{
                    text:'取消',
                    iconCls:'icon-cancel',
                    handler:function(){
                        $('#addDlg').dialog('close');
                    }
                }]
            ">
fhgfhgfh
</div>

<script type="text/javascript">

    
    function formatState(val,row){
        if(val == 0){
            return "禁用";
        }else{
            return "启用"
        }

    }

    function formatTime(val) {
        return timeStamp2String(val);
    }
    
    function formatOpt(val,row,index){
        return "<a href='javascript:bindUser("+row.id+")'>用户</a> &nbsp;&nbsp; <a href='javascript:bindRes("+row.id+")'>资源</a>";
    }
    function bindUser(id){
       $('#addDlg').dialog('open');
    }
    function bindRes(id){
        alert(id);
    }
    function searchForm() {
        $('#listTb').datagrid('reload',{
            name: $("#name_sch").val(),
            state: $("#state_sch").combobox('getValue')
        });
    }
</script>
</body>
</html>
